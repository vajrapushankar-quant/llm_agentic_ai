(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},20178,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(22016);function l(){let e=(0,a.useSearchParams)(),[l,n]=(0,s.useState)(!0),[c,i]=(0,s.useState)(null),o=async(e,t,s)=>{try{let a={action:"update",email:e,status:"completed",paymentId:t,orderId:s,timestamp:new Date().toISOString()};await fetch("https://script.google.com/macros/s/AKfycby_GA6mD1aBpcwBTltK7hEGeCcuWdwQrzTMh9Sgtlkd88IPDJvRayFgdAtQ2bYQmggpOw/exec",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),console.log("Google Sheets status updated to completed")}catch(e){console.error("Error updating Google Sheets status:",e)}};return((0,s.useEffect)(()=>{let t=e.get("razorpay_order_id"),s=e.get("razorpay_payment_id"),a=e.get("razorpay_signature"),r=e.get("planId"),l=e.get("planName");if(t&&s&&a){i({orderId:t,paymentId:s,signature:a,planId:r,planName:l});let e=localStorage.getItem("customerData");if(e)try{let a=JSON.parse(e);a.email&&o(a.email,s,t)}catch(e){console.error("Error parsing customer data:",e)}if("function"==typeof window.fbq){let e="1"===r?"14999":"2"===r?"19999":"24999";window.fbq("track","Purchase",{content_name:l,content_ids:[r],value:parseFloat(e),currency:"INR"})}"function"==typeof window.fbq&&window.fbq("track","Lead",{planId:r,planName:l}),n(!1)}else n(!1)},[e]),l)?(0,t.jsx)("div",{className:"min-h-screen bg-[#F9FAFB] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Processing..."})]})}):c?(0,t.jsx)("div",{className:"min-h-screen bg-[#F9FAFB] flex items-center justify-center px-4 pt-24",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"✅"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-6",children:["Thank you for enrolling in ",(0,t.jsx)("strong",{children:c.planName}),". Your payment has been processed successfully."]}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Payment ID:"}),(0,t.jsx)("span",{className:"font-mono text-xs text-gray-900",children:c.paymentId})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Order ID:"}),(0,t.jsx)("span",{className:"font-mono text-xs text-gray-900",children:c.orderId})]})]})}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"You will receive a confirmation email shortly with course access details."}),(0,t.jsx)(r.default,{href:"/",className:"inline-block bg-purple-600 text-white px-6 py-3 rounded-full font-semibold hover:bg-purple-700 transition-colors",children:"Back to Home"})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-[#F9FAFB] flex items-center justify-center px-4",children:(0,t.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg p-8 text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"❌"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Verification Failed"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"We couldn't verify your payment. Please contact support if you've been charged."}),(0,t.jsx)(r.default,{href:"/#pricing",className:"inline-block bg-purple-600 text-white px-6 py-3 rounded-full font-semibold hover:bg-purple-700 transition-colors",children:"Try Again"})]})})}function n(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen bg-[#F9FAFB] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}),children:(0,t.jsx)(l,{})})}e.s(["default",()=>n])}]);